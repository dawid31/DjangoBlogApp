{% include 'DjangoBlogApp/main.html' %}

{% block content %}
<div class="login-register-container">
  <div class="row my-3 p-3">
    <div class="content-section">
        <div class="media">
          <div class="media-body">
            <img src="{{user.profile.avatar.url}}" class="rounded-circle" style="width: 150px; height: 150px;"/>
            <h2 class="account-heading">{{user.username}}</h2>
            <p class="text-secondary">{{user.email}}</p>
            <p>Biogram:
              <br>
              {{user.profile.biogram}}
            </p>
            {{user.profile.followers.all.count}} followers
            {{user.profile.following.all.count}} following
            <!-- create popping up window with followers and following using this
            https://pypi.org/project/django-bootstrap-modal-forms/ -->
          </div>
        </div>

        {% if request.user == user %}
        <div>
          <h1 class="text-success text-center">Edit Account</h1>
    
          <form method="POST", action="" enctype="multipart/form-data">
              {% csrf_token %}
              <input type="hidden" name="account_form">
              {{form.as_p}}
              <button type="submit">Save Settings</button>
          </form>
        </div>
        {% else %}
        <form method="POST">
          {% csrf_token %}
          <input type="hidden" name="follow">
          <button type="submit" class="btn bg-success">Follow</button>
        </form>
        {% endif %}
    </div>
</div>
</div>


{% endblock content %}